<body >
    <div class="container light-style flex-grow-1 container-p-y">
        <!-- <button class="btn btn-success" routerLink="">Trở về trang chủ</button> -->
        <h4 class="font-weight-bold py-3 mb-4">
            Thông tin cá nhân
        </h4>
        <div class="card overflow-hidden">
            <div class="row no-gutters row-bordered row-border-light">
                <div class="col-md-3 pt-0">
                    <div class="list-group list-group-flush account-settings-links">
                        <!-- <a class="list-group-item list-group-item active" data-bs-toggle="list"
                            href="#account-general">Thông tin chung</a> -->
                            <a class="list-group-item list-group-item active" data-bs-toggle="list"
                            href="#account-general">Thông tin chung</a>    
                        <a class="list-group-item " data-bs-toggle="list"
                            href="#account-change-password">Đổi mật khẩu</a>
                        <a class="list-group-item " data-bs-toggle="list"
                            href="#account-info">Thay đổi thông tin</a>
                        <!-- <a class="list-group-item list-group-item-action" data-bs-toggle="list"
                            href="#account-notifications">Notifications</a> -->
                    </div>
                </div>
                <div class="col-md-9">
                    <div class="tab-content">
                        <!-- Các tab-pane còn lại giữ nguyên -->
                        <div class="tab-content">
                            <div class="tab-pane fade active show" id="account-general">
                                <div class="card-body media align-items-center">
                                    <label class="form-label">Avatar</label>
                                    <img src="https://bootdey.com/img/Content/avatar/avatar1.png"
                                        alt="{{student.avatar}}" class="d-block ui-w-80" readonly>
                                    <!-- <div class="media-body ml-4　mt-2">
                                        <label class="btn btn-outline-primary">
                                            Upload new photo
                                            <input type="file" class="account-settings-fileinput">
                                        </label> &nbsp;
                                        <button type="button" class="btn btn-default md-btn-flat">Reset</button>
                                        <div class="text-light small mt-1">Allowed JPG, GIF or PNG. Max size of 800K
                                        </div>
                                    </div> -->
                                </div>
                                <hr class="border-light m-0">
                                <div class="card-body">
                                    <div class="form-group">
                                        <label class="form-label">Username</label>
                                        <input type="text" class="form-control mb-1" value="{{currentUser.nickName}}"
                                            readonly>
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">ID</label>
                                        <input type="text" class="form-control mb-1" value="{{currentUser.memberId}}"
                                            readonly>
                                    </div>
                                    <div class="form-group row">
                                        <div class="col">
                                            <label class="form-label">Tên</label>
                                            <input type="text" class="form-control" value="{{ student.firstName }}"
                                                readonly>
                                        </div>
                                        <div class="col">
                                            <label class="form-label">Họ</label>
                                            <input type="text" class="form-control" value="{{ student.lastName }}"
                                                readonly>
                                        </div>
                                    </div><br>
                                    <div class="form-group">
                                        <label class="form-label">E-mail</label>
                                        <input type="text" class="form-control mb-1" value="{{currentUser.email}}"
                                            readonly>
                                    </div>
                                    <div *ngIf="currentUser.role.roleType === 'LECTURE' " > 
                                        <div class="form-group">
                                            <label class="form-label">Số điện thoại</label>
                                            <input type="text" class="form-control mb-1" name="phone"
                                            value ="{{student.phone}}" >
                                        </div>
                                        </div>
                                    <div class="form-group">
                                        <label class="form-label">Role</label>
                                        <input type="text" class="form-control" value="{{currentUser.role.roleType}}"
                                            readonly>
                                    </div>
                                </div>
                            </div>
                            <div class="tab-pane fade" id="account-change-password">
                                <form  (ngSubmit)="changePassword()" class="mt-3 mb-3">
                                    
                                        <mat-form-field appearance="outline" style="width: 350px;">
                                            <mat-label>Nhập mật khẩu cũ của bạn</mat-label>
                                            <input name="password" [(ngModel)]="form.password" #password="ngModel"
                                                matInput [type]="hide ? 'password' : 'text'" minlength="6"
                                                maxlength="100" required>
                                            <button mat-icon-button matSuffix (click)="hide = !hide"
                                                [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hide">
                                                <mat-icon> {{hide ? 'visibility_off' :
                                                    'visibility'}}</mat-icon>
                                            </button>
                                            <mat-error *ngIf="password.hasError('required')">Mật khẩu cũ không được để trống</mat-error>
                                            <mat-error *ngIf="password.hasError('minlength')">Mật khẩu phải ít nhất 6 ký tự</mat-error>
                                        </mat-form-field><br>

                                        <mat-form-field appearance="outline" style="width: 350px;">
                                            <mat-label>Nhập mật khẩu mới</mat-label>
                                            <input name="newPassword" [(ngModel)]="form.newpassword"
                                                #newpassword="ngModel" matInput [type]="hide ? 'password' : 'text'"
                                                minlength="6" maxlength="100" required>
                                            <button mat-icon-button matSuffix (click)="hide = !hide"
                                                [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hide">
                                                <mat-icon >{{hide ? 'visibility_off' :
                                                    'visibility'}}</mat-icon>
                                            </button>
                                            <mat-error *ngIf="newpassword.hasError('required')">Mật khẩu mới không đợi để trống</mat-error>
                                            <mat-error *ngIf="newpassword.hasError('minlength')">Mật khẩu phải ít nhất 6 ký tự</mat-error>
                                        </mat-form-field><br>
                                        <mat-form-field appearance="outline" style="width: 350px;">
                                            <mat-label>Xác nhận mật khẩu mới</mat-label>
                                            <input name="confirmpassword" [(ngModel)]="form.confirmpassword"
                                                #confirmpassword="ngModel" matInput
                                                [type]="hide ? 'confirmpassword' : 'text'" minlength="6"
                                                maxlength="100" required>
                                            <button mat-icon-button matSuffix (click)="hide = !newhide1"
                                                [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hide">
                                                <mat-icon >{{hide ? 'visibility_off' :
                                                    'visibility'}}</mat-icon>
                                            </button>
                                            <mat-error *ngIf="confirmpassword.hasError('required')">Mật khẩu mới không đợi để trống</mat-error>
                                            <mat-error *ngIf="confirmpassword.hasError('minlength')">Mật khẩu phải ít nhất 6 ký tự</mat-error>
                                            <!-- <mat-error *ngIf="confirmpassword != form.newpassword">Mật khẩu mới và xác nhận mật khẩu không trùng nhau</mat-error> -->
                                        </mat-form-field><br>
                                        <button class="btn btn-success">Đổi mật khẩu
                                            <!-- <mat-icon matListItemIcon matSuffix>change_circle</mat-icon> -->
                                        </button>
                                    <!-- <div class="card-body pb-2">
                                        <div class="form-group">
                                            <label class="form-label">Current password</label>
                                            <input type="password" class="form-control">
                                        </div>
                                        <div class="form-group">
                                            <label class="form-label">New password</label>
                                            <input type="password" class="form-control">
                                        </div>
                                        <div class="form-group">
                                            <label class="form-label">Repeat new password</label>
                                            <input type="password" class="form-control">
                                        </div>
                                    </div>
                                    <div class="text-end mt-3 mb-3 mr-4">
                                        <button type="button" class="btn btn-success">Save changes</button>&nbsp;
                                    </div> -->
                                </form>
                            </div>
                            <div class="tab-pane fade" id="account-info">
                                <form>
                                    <div class="tab-pane fade active show" id="account-general">
                                        <div class="card-body media align-items-center">
                                            <img src="https://bootdey.com/img/Content/avatar/avatar1.png"
                                                alt="{{student.avatar}}" class="d-block ui-w-80">
                                            <div class="media-body ml-4 mt-2">
                                                <label class="btn btn-outline-primary">
                                                    Upload new photo
                                                    <input type="file" name="avatar" [(ngModel)]="student.avatar"
                                                        class="account-settings-fileinput"
                                                        [ngModelOptions]="{standalone: true}">
                                                </label> &nbsp;
                                                <button type="button" class="btn btn-default md-btn-flat">Reset</button>
                                                <div class="text-light small mt-1">Allowed JPG, GIF or PNG. Max size of
                                                    800K
                                                </div>
                                            </div>
                                        </div>
                                        <hr class="border-light m-0">
                                        <div class="card-body">
                                            <div class="form-group row">
                                                <div class="col">
                                                    <label class="form-label">Mã số sinh viên</label>
                                                    <input type="text" class="form-control mb-1" name="memberId"
                                                        id="memberId" [(ngModel)]="currentUser.memberId"
                                                        [ngModelOptions]="{standalone: true}" readonly>
                                                </div>
                                                <div class="col">
                                                    <label class="form-label" for="gender">Giới tính</label>
                                                    <select class="form-control" id="gender"
                                                        [(ngModel)]="student.gender" name="gender">
                                                        <option [(ngModel)]="student.gender" value="true"
                                                            [ngModelOptions]="{standalone: true}">Nam</option>
                                                        <option [(ngModel)]="student.gender" value="false"
                                                            [ngModelOptions]="{standalone: true}">Nữ</option>
                                                    </select>
                                                </div>

                                            </div>
                                            <div class="form-group row">
                                                <div class="col">
                                                    <label class="form-label">Tên</label>
                                                    <input type="text" class="form-control" name="firstName"
                                                        id="firstName" [(ngModel)]="student.firstName"
                                                        [ngModelOptions]="{standalone: true}">
                                                </div>
                                                <div class="col">
                                                    <label class="form-label">Họ</label>
                                                    <input type="text" class="form-control" name="lastName"
                                                        id="lastName" [(ngModel)]="student.lastName"
                                                        [ngModelOptions]="{standalone: true}">
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="form-label">E-mail</label>
                                                <input type="text" class="form-control mb-1" name="email"
                                                    value="{{student.email}}" readonly>
                                            </div>
                                            <div *ngIf="currentUser.role.roleType === 'LECTURE' " > 
                                            <div class="form-group">
                                                <label class="form-label">Số điện thoại</label>
                                                <input type="text" class="form-control mb-1" name="phone"
                                                [(ngModel)]="student.phone" >
                                            </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="text-end mt-3 mb-3 mr-4">
                                        <div *ngIf="currentUser.role.roleType === 'LECTURE' " > 
                                            <button type="button" class="btn btn-success" (click)="updateLecturersProfile()">Cập nhật</button>&nbsp;
                                        </div>
                                        <div *ngIf="currentUser.role.roleType === 'STUDENT' " >
                                            <button type="button" class="btn btn-success" (click)="updateUserProfile()">Cập nhật</button>&nbsp;
                                        </div>
                                        
                                    </div>
                                </form>
                            </div>
                            <!-- <div class="tab-pane fade" id="account-notifications">
                                <div class="card-body pb-2">
                                    <h6 class="mb-4">Activity</h6>
                                    <div class="form-group">
                                        <label class="switcher">
                                            <input type="checkbox" class="switcher-input" checked>
                                            <span class="switcher-indicator">
                                                <span class="switcher-yes"></span>
                                                <span class="switcher-no"></span>
                                            </span>
                                            <span class="switcher-label">Email me when someone comments on my
                                                article</span>
                                        </label>
                                    </div>
                                    <div class="form-group">
                                        <label class="switcher">
                                            <input type="checkbox" class="switcher-input" checked>
                                            <span class="switcher-indicator">
                                                <span class="switcher-yes"></span>
                                                <span class="switcher-no"></span>
                                            </span>
                                            <span class="switcher-label">Email me when someone answers on my forum
                                                thread</span>
                                        </label>
                                    </div>
                                    <div class="form-group">
                                        <label class="switcher">
                                            <input type="checkbox" class="switcher-input">
                                            <span class="switcher-indicator">
                                                <span class="switcher-yes"></span>
                                                <span class="switcher-no"></span>
                                            </span>
                                            <span class="switcher-label">Email me when someone follows me</span>
                                        </label>
                                    </div>
                                </div>
                                <hr class="border-light m-0">
                                <div class="card-body pb-2">
                                    <h6 class="mb-4">Application</h6>
                                    <div class="form-group">
                                        <label class="switcher">
                                            <input type="checkbox" class="switcher-input" checked>
                                            <span class="switcher-indicator">
                                                <span class="switcher-yes"></span>
                                                <span class="switcher-no"></span>
                                            </span>
                                            <span class="switcher-label">News and announcements</span>
                                        </label>
                                    </div>
                                    <div class="form-group">
                                        <label class="switcher">
                                            <input type="checkbox" class="switcher-input">
                                            <span class="switcher-indicator">
                                                <span class="switcher-yes"></span>
                                                <span class="switcher-no"></span>
                                            </span>
                                            <span class="switcher-label">Weekly product updates</span>
                                        </label>
                                    </div>
                                    <div class="form-group">
                                        <label class="switcher">
                                            <input type="checkbox" class="switcher-input" checked>
                                            <span class="switcher-indicator">
                                                <span class="switcher-yes"></span>
                                                <span class="switcher-no"></span>
                                            </span>
                                            <span class="switcher-label">Weekly blog digest</span>
                                        </label>
                                    </div>
                                </div>
                            </div> -->
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js"></script>
    <script type="text/javascript">

    </script>
</body>